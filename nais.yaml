# ref https://raw.githubusercontent.com/nais/naisd/master/nais_example.yaml
image: repo.adeo.no:5443/oppfolging/modia-soap-til-rest-proxy
team: oppfolging
replicas:
  min: 2
  max: 4
  cpuThresholdPercentage: 50
port: 8992
healthcheck:
  liveness:
    path: modia-soap-til-rest-proxy/internal/isAlive
    initialDelay: 60
  readiness:
    path: modia-soap-til-rest-proxy/internal/selftest
    initialDelay: 60
    timeout: 10
prometheus:
    enabled: true
    path: modia-soap-til-rest-proxy/internal/metrics
resources:
    limits:
      cpu: 3000m
      memory: 1024Mi
    requests:
      cpu: 200m
      memory: 512Mi
fasitResources:
  exposed:
  - alias: ArkiverHenvendelseBehandling_v2
    resourceType: webserviceendpoint
    path: /ws/ArkiverHenvendelseBehandling_v2
    securityToken: SAML
    wsdlGroupId: no.nav.sbl.dialogarena
    wsdlArtifactId: henvendelse-arkivering-aktivitet
    wsdlVersion: 2.0.0
  - alias: ArkivertHenvendelseV2
    resourceType: webserviceendpoint
    path: /ws/ArkivertHenvendelseV2
    securityToken: SAML
    wsdlGroupId: no.nav.sbl.dialogarena
    wsdlArtifactId: henvendelse-arkivering-informasjon
    wsdlVersion: 2.0.0
  used:
    - alias: appdynamics
      resourceType: applicationproperties
    - alias: srvmodia-soap-til-rest-proxy
      resourceType: credential
    - alias: securityTokenService
      resourceType: baseUrl
    # ISSO
    - alias: isso-host
      resourceType: baseurl
    - alias: isso-jwks
      resourceType: baseurl
    - alias: isso-issuer
      resourceType: baseurl
    - alias: isso.isalive
      resourceType: baseurl
    - alias: isso-rp-user
      resourceType: credential
    - alias: abac.pdp.endpoint
      resourceType: restservice
    - alias: veilarblogin.redirect-url
      resourceType: restservice
      propertyMap:
              url: OIDC_REDIRECT_URL
  #Henvendelsesarkiv resttjenester.